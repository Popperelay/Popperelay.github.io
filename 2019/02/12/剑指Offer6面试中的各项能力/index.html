<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/logo_miccall.png"/>
	 <link rel="shortcut icon" href="/img/logo_miccall.png">
	
			
    <title>
    Elays'Blog
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    
    	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
			    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<link rel="stylesheet" href="/css/prism-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
    
		
<!-- Layouts -->


<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<!--<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">-->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/latest.js?config=TeX-MML-AM_CHTML" async>
</script>

<!--  代码渲染  -->
<link rel="stylesheet" href="/css/prism_undefined.css" />
<link rel="stylesheet" href="/css/typo.css" />
<!-- 文章页 -->
<body class="is-loading">
    <!-- Wrapper 外包 s-->
    <div id="wrapper" class="fade-in">
        <!-- Intro 头部显示 s -->
        <!-- Intro 头部显示 e -->
        <!-- Header 头部logo start -->
        <header id="header">
    <a href="/" class="logo">MICCALL</a>
</header>
        <!-- Nav 导航条 start -->
        <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">主页</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">分类</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Boost/">Boost</a></li><li><a class="category-link" href="/categories/C-语法/">C#语法</a></li><li><a class="category-link" href="/categories/C/">C++</a></li><li><a class="category-link" href="/categories/C语言/">C语言</a></li><li><a class="category-link" href="/categories/Math/">Math</a></li><li><a class="category-link" href="/categories/OpenGL/">OpenGL</a></li><li><a class="category-link" href="/categories/c/">c++</a></li><li><a class="category-link" href="/categories/全局光照/">全局光照</a></li><li><a class="category-link" href="/categories/博客配置/">博客配置</a></li><li><a class="category-link" href="/categories/并行计算/">并行计算</a></li><li><a class="category-link" href="/categories/操作系统/">操作系统</a></li><li><a class="category-link" href="/categories/数据结构/">数据结构</a></li><li><a class="category-link" href="/categories/毕设/">毕设</a></li><li><a class="category-link" href="/categories/游戏开发/">游戏开发</a></li><li><a class="category-link" href="/categories/游戏设计模式/">游戏设计模式</a></li><li><a class="category-link" href="/categories/计算机图形学/">计算机图形学</a></li><li><a class="category-link" href="/categories/计算机系统/">计算机系统</a></li><li><a class="category-link" href="/categories/设计模式/">设计模式</a></li><li><a class="category-link" href="/categories/调试错误集锦/">调试错误集锦</a></li><li><a class="category-link" href="/categories/面试/">面试</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/gallery/" title="图库">
		                图库
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="搜索">
		                搜索
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
		            
		                <li><a href="https://github.com/miccall" class="icon fa-github"><span class="label">GitHub</span></a></li>
		            
		            
		            
		            
			</ul>
</nav>

        <div id="main" >
            <div class ="post_page_title_img" style="height: 25rem;background-image: url(null);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;" >
                <a href="#" style="padding: 4rem 4rem 2rem 4rem ;"><h2 >剑指Offer6面试中的各项能力</h2></a>
            </div>
            <!-- Post -->
            <div class="typo" style="padding: 3rem;">
				<!-- 目录 -->
				<p class="show-toc-btn" id="show-toc-btn" onclick="showToc();" style="display:none">
				<span class="btn-bg"></span>
				<span class="btn-text">文章导航</span>
				</p>
				<div id="toc-article" class="toc-article">
					<span id="toc-close" class="toc-close" title="隐藏导航" onclick="showBtn();">×</span>
					<strong class="toc-title">文章目录</strong>
					<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题53：在排序数组中查找数字"><span class="toc-text">面试题53：在排序数组中查找数字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题54：二叉搜索树的第k大节点"><span class="toc-text">面试题54：二叉搜索树的第k大节点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题55：二叉树的深度"><span class="toc-text">面试题55：二叉树的深度</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题56：数组中数字出现的次数"><span class="toc-text">面试题56：数组中数字出现的次数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题57：和为s的数字"><span class="toc-text">面试题57：和为s的数字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题58：翻转字符串"><span class="toc-text">面试题58：翻转字符串</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题59：队列的最大值"><span class="toc-text">面试题59：队列的最大值</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题60：n个骰子的点数"><span class="toc-text">面试题60：n个骰子的点数</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题61：扑克牌中的顺子"><span class="toc-text">面试题61：扑克牌中的顺子</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题62：圆圈中最后剩下的数字"><span class="toc-text">面试题62：圆圈中最后剩下的数字</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题63：股票的最大利润"><span class="toc-text">面试题63：股票的最大利润</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题64：求1-2-…-n"><span class="toc-text">面试题64：求1+2+…+n</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题65：不用加减乘除做加法"><span class="toc-text">面试题65：不用加减乘除做加法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#面试题66：构建乘积数组"><span class="toc-text">面试题66：构建乘积数组</span></a></li></ol>
			   </div>
			   <script type="text/javascript">
				function showToc(){
					var toc_article = document.getElementById("toc-article");
					var show_toc_btn = document.getElementById("show-toc-btn");
					toc_article.setAttribute("style","display:block");
					show_toc_btn.setAttribute("style","display:none");
					};
				function showBtn(){
					var toc_article = document.getElementById("toc-article");
					var show_toc_btn = document.getElementById("show-toc-btn");
					toc_article.setAttribute("style","display:none");
					show_toc_btn.setAttribute("style","display:block");
					};
			   </script>
				
                <p>在面试的时候，知之为知之，不知为不知，对于不清楚的知识点，要勇敢承认，千万别不懂装懂。通常当应聘者说自己很懂某一领域的时候，面试官都会跟进几个问题。如果应聘者在不懂装懂，那么面试官迟早会发现，他可能就会觉得应聘者在其他的地方也有浮报虚夸的成分，这将是得不偿失的。</p>
<p>有些面试官故意一开始不把题目描述清楚，让题目存在一定的二义性。他期待应聘者能够一步步通过提问来弄明白题目的要求。这也是在考试应聘者的沟通能力。</p>
<h1 id="面试题53：在排序数组中查找数字"><a href="#面试题53：在排序数组中查找数字" class="headerlink" title="面试题53：在排序数组中查找数字"></a><font size="6" color="orange">面试题53：在排序数组中查找数字</font></h1><hr>
<p>题目一：数字在排序数组中出现的次数。统计一个数字在排序数组中出现的次数。例如输入排序数组{1,2,3,3,3,3,4,5}和数字3，由于3在这个数组中出现了4次，因此输出4。</p>
<p>解题思路：假设要查找的数字是k，可以用二分查找来快速找出排序数组中的第一个k和最后一个k，从而得到k出现的次数。那么怎么用二分查找来找出第一个k呢？如果中间的数字比k小，那k肯定在后面；如果中间的数字比k大，那k肯定在前面；如果中间的数字等于k，则看前一个数字是不是k，如果不是k，说明中间数字就是第一个k；如果前一个数字是k，说明第一个k在前面。递归找就可以了。查找最后一个k也是同样的思路。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目二：0~n-1中缺失的数字。<br>一个长度为n-1的递增排序数组中的所有数字都是唯一的，并且每个数字都在范围0~n-1之内。在范围0~n-1内的n个数字中有且只有一个数字不在该数组中，请找出这个数字。</p>
<p>其实就是找出第一个值与下标不同的数，用二分查找来找就可以了：如果中间的数，它的值和下标相同，则去接着找右边；如果中间的数的值和下标不等，并且前面一个数值和下标相等，那中间的数就是第一个值和下标不等的数，就是缺失的那个数，如果前面一个数值和下标不等，就接着去左边找。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目三：数组中数值和下标相等的元素。<br>假设一个单调递增的数组里的每个元素都是整数并且是唯一的。请编写一个函数，找出数组中任意一个数值等于其下标的元素。例如，在数组{-3,-1,1,3,5}中，数字3和它的下标相等。</p>
<p>由于是单调递增的排序数组，所以可以用二分查找来做：如果中间元素值大于下标，由于单调递增，其后面的元素肯定也是值大于下标的，所以应该去前面找值等于下标的数；如果中间元素值小于下标，由于单调递增，其前面的元素肯定也是值小于下标的，所以应该去其后面找值等于下标的数。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题54：二叉搜索树的第k大节点"><a href="#面试题54：二叉搜索树的第k大节点" class="headerlink" title="面试题54：二叉搜索树的第k大节点"></a><font size="6" color="orange">面试题54：二叉搜索树的第k大节点</font></h1><hr>
<p>题目：给定一棵二叉搜索树，请找出其中第k大的节点。</p>
<p>中序遍历即可（递归时维护一个记录遍历到了第几个节点的变量）。完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题55：二叉树的深度"><a href="#面试题55：二叉树的深度" class="headerlink" title="面试题55：二叉树的深度"></a><font size="6" color="orange">面试题55：二叉树的深度</font></h1><hr>
<p>题目一：二叉树的深度。输入一棵二叉树的根节点，求该树的深度。二叉树的节点定义如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp"><span class="token keyword">struct</span> SBinaryTreeNode
<span class="token punctuation">{</span>
    <span class="token keyword">int</span>                    m_Value<span class="token punctuation">;</span>
    SBinaryTreeNode<span class="token operator">*</span>    m_pLeft<span class="token punctuation">;</span>
    SBinaryTreeNode<span class="token operator">*</span>    m_pRight<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>递归遍历加1，然后取左子树和右子树高度的较大值。完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目二：平衡二叉树。输入一棵二叉树的根节点，判断该树是不是平衡二叉树。如果某二叉树中任意节点的左、右子树的深度相差不超过1，那么它就是一棵平衡二叉树。</p>
<p>解题思路：如果我们用后序遍历的方式遍历二叉树的每个节点，那么在遍历到一个节点之前我们就已经遍历了它的左、右子树。只要在遍历每个节点的时候记录它的深度，我们就可以一边遍历一边判断每个节点是不是平衡的。完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题56：数组中数字出现的次数"><a href="#面试题56：数组中数字出现的次数" class="headerlink" title="面试题56：数组中数字出现的次数"></a><font size="6" color="orange">面试题56：数组中数字出现的次数</font></h1><hr>
<p>题目一：数组中只出现一次的两个数字。一个整型数组里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。</p>
<p>如果是数组中只有一个数字出现了一次，其余出现两次，那么连续异或得到的结果就是该数字。而现在是有两个数字都出现了两次，我们可以想办法把这两个数字分开到两个不同的子数组里，然后这两个子数组里就都只有一个数字出现一次，其余出现两次了，用连续异或就可以解决。那么怎么把这两个数字分开到不同的子数组呢？可以先对整个数组作异或，异或的结果等于这两个只出现一次的数的异或结果，由于这两个数不同，所以异或结果肯定不为0，异或结果的二进制中肯定有1。从里面随便选一个不为1的位，比如是第n位，这两个数肯定一个第n位是1，另一个第n位是0，那么我们把整个数组按照第n位是0或者1，分成两个子数组。相同的两个数字肯定会被分到相同的子数组里。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目二：数组中唯一只出现一次的数字。在一个数组中除一个数字只出现一次之外，其他数字都出现了三次。请找出那个只出现一次的数字。</p>
<p>解题思路：可以把数组中所有数字的每一位都加起来。如果某一位上加出来的结果能被3整除，那么那个只出现一次的数字二进制表示中对应的那一位是0；否则就是1。</p>
<h1 id="面试题57：和为s的数字"><a href="#面试题57：和为s的数字" class="headerlink" title="面试题57：和为s的数字"></a><font size="6" color="orange">面试题57：和为s的数字</font></h1><hr>
<p>题目一：和为s的两个数字。输入一个递增排序的数组和一个数字s，在数组中查找两个数，使得它们的和正好是s。如果有对多数字的和等于s，则输出任意一对即可。</p>
<p>可以用两个指针：一个前指针指向排序数组首元素，一个后指针指向排序数组尾元素。如果两个元素的和大于s，则把后指针向前移动；如果两个元素的和小于s，则把前指针向后移动。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目二：和为s的连续正数序列。输入一个正数s，打印出所有和为s的连续正数序列（至少含有两个数）。例如，输入15，由于1+2+3+4+5=4+5+6=7+8，所以打印出3个连续序列1~5、4~6和7~8。</p>
<p>解题思路：可以用两个数small和big分别表示序列的最小值和最大值。首先把small初始化为1，big初始化为2。如果从small到big的序列的和大于s，则可以从序列中去掉较小的值，也就是增大small的值；如果从small到big的序列的和小于s，则可以增大big，让这个序列包含更多的数字；如果从small到big的序列的和等于s，增大small或者增大big都行。为了找出所有的满足和为s的序列，要一直增加small到(1+s)/2为止（因为序列至少要有两个数字）。</p>
<h1 id="面试题58：翻转字符串"><a href="#面试题58：翻转字符串" class="headerlink" title="面试题58：翻转字符串"></a><font size="6" color="orange">面试题58：翻转字符串</font></h1><hr>
<p>题目一：翻转单词顺序。输入一个英文句子，翻转句子中单词的顺序，但单词内字符的顺序不变。为简单起见，标点符号和普通字母一样处理。例如输入字符串”I am a student.”，则输出”student. a am I”。</p>
<p>解题思路：先翻转整个字符串，再翻转字符串里的每个单词就可以了（翻转可以直接交换指向首尾的两个前后指针就可以做到）。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目二：左旋转字符串。字符串的左旋转操作是把字符串前面的若干个字符转移到字符串的尾部。请定义一个函数实现字符串左旋转操作的功能。比如，输入字符串”abcdefg”和数字2，该函数将返回左旋转两位得到的结果”cdefgab”。</p>
<p>和上一个题一样的思路，先翻转整个字符串，然后已输入的数字（比如2）把整个字符串分为两部分，再分别对这两部分进行翻转就可以了。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题59：队列的最大值"><a href="#面试题59：队列的最大值" class="headerlink" title="面试题59：队列的最大值"></a><font size="6" color="orange">面试题59：队列的最大值</font></h1><hr>
<p>题目一：滑动窗口的最大值。给定一个数组和滑动窗口的大小，请找出所有滑动窗口里的最大值。例如，如果输入数组{2,3,4,2,6,2,5,1}及滑动窗口的大小3，那么一共存在6个滑动窗口，它们的最大值分别为{4,4,6,6,6,5}。</p>
<p>实际上一个滑动窗口可以看成一个队列。所以实际上要求的是队列里的最大值。之前面试题30中已经介绍过在O(1)时间内得到栈的最小值（借助辅助栈），如果这里用两个栈来实现一个队列（面试题9），那么也就能够在O(1)时间内得到队列的最大值。</p>
<p>还有另外的解决思路：不把滑动窗口的每个数值都存入队列，而是只把有可能成为滑动窗口最大值的数值存入一个<strong>双端队列</strong>里。比如对于题目中的数组{2,3,4,2,6,2,5,1}，第一个进入滑动窗口的数字是2，它有可能成为滑动窗口里的最大值，所以把2入队列；第二个进入滑动窗口的是3，它比队尾的2大，所以2不可能再是滑动窗口里的最大值，把2从队列里删除，将3入队列；然后是4，同样地因为比队尾元素3大，所以3出队列，4入队列；接着是2，它比队尾元素4小，当4滑出滑动窗口以后2有可能成为最大值，所以需要把2入队尾，这是队列中有两个元素：4、2，最大值4在队头；接着是6，它比队列中的4、2都大，所以4、2不可能再是滑动窗口里的最大值了，把4、2出队，把6入队；接着是2，把2入队尾；接着是5，把2出队，把5入队尾（此时队列中的元素是6、5）；接着是1，把1入队尾，同时由于6滑出了滑动窗口，所以需要把队头的6也出队，队列中剩下5、1。但是怎么知道6被滑出了滑动窗口呢？我们可以不在队列里直接存数值，而是存数值在数组里对应的下标，这样我们就能根据下标来判断队头是否滑出了滑动窗口（实际上队列里最多只会有两个元素，一个最大的一个次大的）。</p>
<p>总结如下：占山为王（如果新进来的元素如果比队列中的元素大，就把队列中的元素pop出去，队头永远保存着最大值）、老虎走了猴子称大王（如果新进来的元素比队列中的元素小，则把新元素push到队尾（比新元素还小的已经在第一步被pop出去了））。一句话说，其实就是把队列里最大的和次大的记录了下来。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>题目二：队列的最大值。请定义一个队列并实现函数max得到队列里的最大值，要求函数max、push_back和pop_front的时间复杂度都是O(1)。</p>
<p>思路和上题的滑动窗口是一样的（因为滑动窗口本身就是一个队列），所以用两个双端队列来实现就可以了，其中一个放队列数据，另一个存放队列中可能的最大值（即当前最大的和次大的）。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题60：n个骰子的点数"><a href="#面试题60：n个骰子的点数" class="headerlink" title="面试题60：n个骰子的点数"></a><font size="6" color="orange">面试题60：n个骰子的点数</font></h1><hr>
<p>题目：把n个骰子仍在地上，所有骰子朝上一面的点数之和为s。输入n，打印出s的所有可能的值出现的概率。</p>
<p>首先，所有点数的排列数是$6^n$。</p>
<p>第一种思路：使用递归或者动态规划。把n个骰子分成两堆：第一堆只有一个，它有6种可能；第二堆有n-1个，递归的把它继续分为两堆就可以了。递归结束的条件当然就是最后只剩下一个骰子。对应的完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>第二种思路：递推分析n-1个骰子和n个骰子。扔n个骰子点数和为m的次数，其实就是扔n-1个骰子点数为m-1、m-2、m-3、m-4、m-5与m-6的次数之和。所以可以用两个数组来存储骰子点数和出现的次数：第一个数组中第m个数字用来存储n-1个骰子扔出来和为m的次数，加上一个骰子后，第二个数组的第m个数字就等于第一个数组的第m-1、m-2、m-3、m-4、m-5与m-6这个6个数字的和。从1个骰子开始，循环使用这两个数组，知道增加到第n个骰子为止。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题61：扑克牌中的顺子"><a href="#面试题61：扑克牌中的顺子" class="headerlink" title="面试题61：扑克牌中的顺子"></a><font size="6" color="orange">面试题61：扑克牌中的顺子</font></h1><hr>
<p>题目：从扑克牌中随机抽5张牌，判断是不是一个顺子，即这5张牌是不是连续的。2~10为数字本身，A为1，J为11，Q为12，K为13，而大、小王可以看成任意数字。</p>
<p>解题思路：把抽出来的5张牌排序（大小王看作0），然后统计排序之后相邻数字之间的空缺总数是不是等于0的个数，如果等于则是顺子，不等于则不是顺子，而且如果出现了重复数字也肯定不是顺子。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>其中用来库函数<code>qsort</code>来排序，时间复杂度是O(nlogn)，想快一点的话可以用一个长度为14的哈希表来排序，其时间复杂度是O(n)。其实意义不大，不同级别的时间复杂度只有当n足够大的时候才有意义。</p>
<h1 id="面试题62：圆圈中最后剩下的数字"><a href="#面试题62：圆圈中最后剩下的数字" class="headerlink" title="面试题62：圆圈中最后剩下的数字"></a><font size="6" color="orange">面试题62：圆圈中最后剩下的数字</font></h1><hr>
<p>题目：0,1,…,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字。求出这个圆圈里剩下的最后一个数字。</p>
<p>该题其实就是著名的约瑟夫环问题。一种最直观的解法当然就是用环形链表来模拟了。其完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>第二种解法是分析出一个关于$f(n,m)$和$f(n-1,m)$的递归公式：<br>$$<br>f(n, m) =<br>\begin{cases}<br>0, &amp; n=1\\<br>[f(n-1,m)+m]\%n, &amp; n&gt;1<br>\end{cases}<br>$$<br>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题63：股票的最大利润"><a href="#面试题63：股票的最大利润" class="headerlink" title="面试题63：股票的最大利润"></a><font size="6" color="orange">面试题63：股票的最大利润</font></h1><hr>
<p>题目：假设把某股票的价格按照时间先后顺序存储在数组中，请问买卖该股票一次可能获得的最大利润是多少？例如，一只股票在某些时间节点的价格为{9,11,8,5,7,12,16,14}。如果我们能在价格为5的时候买入并在价格为16时卖出，则能收获最大的利润11。</p>
<p>解题思路：其实就是求数组里面数对的最大差值。我们可以在遍历数组的时候，记录下一个到目前为止的最低价格的变量，然后就能算出到目前时间节点可获得的最大利润。而整体上的最大利润就是这些时间节点的最大利润的最大值。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h1 id="面试题64：求1-2-…-n"><a href="#面试题64：求1-2-…-n" class="headerlink" title="面试题64：求1+2+…+n"></a><font size="6" color="orange">面试题64：求1+2+…+n</font></h1><hr>
<p>题目：求1+2+…+n，要求不能使用乘除法、for、while、if、else、switch、case等关键字及条件判断语句(A?B:C)。</p>
<p>解法一：利用构造函数求解，即new很多次，通过多次自动调用构造函数来模拟循环。对应代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>解法二：利用函数指针或者虚函数求解。通过递归调用来求解，但是递归结束条件需要用到判断语句，递归结束的条件是n降到0，可以通过对两次取反即<code>!!n</code>，来判断n是不是0；是0的话不能递归调用当前函数，而是要调用另外一个返回0的函数，所以可以根据<code>!!n</code>来调用另一个同名的函数指针，即n不为0时通过这个名字调用自己，当n等于0时通过这个名字调用递归终止函数。对应代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>解法三：用模板元编程来实现。让编译器自动完成类似于递归的计算。代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这种解法的缺点是n不能太大，因为编译器对递归编译代码的递归深度是有限制的。</p>
<h1 id="面试题65：不用加减乘除做加法"><a href="#面试题65：不用加减乘除做加法" class="headerlink" title="面试题65：不用加减乘除做加法"></a><font size="6" color="orange">面试题65：不用加减乘除做加法</font></h1><hr>
<p>题目：写一个函数，求两个整数之和，要求在函数体内不得使用”+”、”-“、”x”、”/“四则运算符号。</p>
<p>不能做加减乘除运算，那只能做位运算了。可以模拟整数加法的过程，来做二进制加法：先算位和位相加的结果（不考虑进位），再算进位。也就是说分三步：<br>先通过对两个数进行异或得到位和位相加的结果，在对两个数进行位与运算来得到进位结果，接着把进位结果左移移位，最后把进位结果和位与结果加起来就可以了（这个相加可以递归调用当前的加法函数吗，直到不再产生进位为止）。</p>
<p>完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>相关问题：不使用新的变量来交换两个变量的值，有如下两种方式：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">a <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>或者</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
b <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
a <span class="token operator">=</span> a <span class="token operator">^</span> b<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h1 id="面试题66：构建乘积数组"><a href="#面试题66：构建乘积数组" class="headerlink" title="面试题66：构建乘积数组"></a><font size="6" color="orange">面试题66：构建乘积数组</font></h1><hr>
<p>题目：给定一个数组A[0,1,…,n-1]，请构建一个数组B[0,1,…,n-1]，其中B中的元素B[i]=A[0]xA[1]x…xA[i-1]xA[i+1]x…xA[n-1]。不能使用除法。</p>
<p>解题思路：由于不能用除法，如果暴力来算的话，算B[i]需要连乘A[0]、A[1]…..A[i-1]、A[i+1]…A[n-1]，而算B[i+1]的时候需要连乘A[0]、A[1]……A[i]、A[i+2]…..A[n-1]，很明显算这两个数的时候，连乘A[0]……A[i-1]和A[i+2]……A[n-1]都是重复的，所以需要在算的时候记录下之前算的中间结果，在算下一个数的时候拿来复用就可以了。对应的完整代码如下：</p>
<pre class="line-numbers language-cpp"><code class="language-cpp">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<hr>
<p>参考文献：《剑指Offer》</p>

            </div>

            <!-- Post Comments -->
            
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'http-miccall-tech'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2019/02/12/剑指Offer6面试中的各项能力/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://yoursite.com/2019/02/12/剑指Offer6面试中的各项能力/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//http-miccall-tech.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


        </div>
        <!-- Copyright 版权 start -->
                <div id="copyright">
            <ul>
                <li>&copy;Powered By <a href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
            	<span id="busuanzi_container_site_pv">2019总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
    </div>
</body>



 	
</html>
